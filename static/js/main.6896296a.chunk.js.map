{"version":3,"sources":["sketches sync /^/.//.*/.js$","sketches/fourier.js","sketches/test-sketch.js","pages/Home.js","pages/Contacts.js","components/SketchesNav.js","components/SketchContainer.js","pages/Sketches.js","pages/NotFound.js","components/Header.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","s","p","c","F","time","path","userDrawing","reset","resetUserDrawing","mouseDragged","push","createVector","mouseX","width","mouseY","height","mouseReleased","dft","sort","a","b","amp","setup","createCanvas","i","TWO_PI","noise","draw","background","mouseIsPressed","beginShape","forEach","v","vertex","x","y","endShape","f","rot","length","prevx","prevy","freq","rad","phase","cos","sin","stroke","noFill","circle","line","epicycle","unshift","dt","frameCount","X","N","k","sum","n","phi","add","cmult","div","mag","atan2","r","console","log","createP","fill","rect","Home","Contacts","SketchesNav","props","selected","handleSelected","Nav","activeKey","onSelect","key","className","Link","eventKey","SketchContainer","sketchRef","useRef","styleRef","sketchName","useEffect","el","current","innerHTML","sketch","require","default","p5","base","window","location","href","split","fetch","resp","text","css","error","fetchCSS","ref","Sketches","useState","NotFound","Header","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","to","App","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6896296a.chunk.js","sourcesContent":["var map = {\n\t\"./fourier.js\": 47,\n\t\"./test-sketch.js\": 48\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46;","const s = (p) => {\n\n    //Discrete Fourier Transform\n\n    let c = []\n\n    let F = null\n\n    const len = 50\n\n    let time = 0\n\n    let path = []\n\n    let userDrawing = []\n\n\n    p.mouseDragged = () => {\n        userDrawing.push(p.createVector(p.mouseX - p.width / 2, p.mouseY - p.height / 2))\n    }\n\n    p.mouseReleased = () => {\n        computeUserPath()\n        reset(true)\n    }\n\n    function computeUserPath() {\n        F = dft(userDrawing)\n        F.sort((a, b) => b.amp - a.amp)\n    }\n\n    function reset(resetUserDrawing = false) {\n        if (resetUserDrawing) {\n            userDrawing = []\n        }\n        path = []\n        time = 0\n    }\n\n    p.setup = () => {\n        p.createCanvas(600, 600)\n        //create initial F from path generated by perlin noise\n        for (let i = 0; i < len; i++) {\n            const a = p.map(i, 0, len, 0, p.TWO_PI)\n            c[i] = p.createVector(\n                100 * p.noise(a), 100 * p.noise(a + 1000)\n            )\n        }\n        //compute DFT\n        F = dft(c)\n        F.sort((a, b) => b.amp - a.amp)\n    }\n\n    p.draw = () => {\n        p.background(250)\n\n        if (!p.mouseIsPressed) {\n            const v = epicycle(p.width / 2, p.height / 2, F, 0)\n\n            path.unshift(v)\n\n            p.stroke(0)\n            p.noFill()\n            p.beginShape()\n            path.forEach(v => p.vertex(v.x, v.y))\n            p.endShape()\n\n            //time speed\n            const dt = p.TWO_PI / F.length\n            //animation scale speed\n            const fc = p.frameCount % 2 === 0\n            //increment time\n            if (fc) {\n                time += dt\n            }\n            if (time > p.TWO_PI) {\n                reset()\n            }\n\n        } else {\n            p.beginShape()\n            userDrawing.forEach(v => p.vertex(v.x + p.width / 2, v.y + p.width / 2))\n            p.endShape()\n        }\n\n    }\n\n    function epicycle(x, y, f, rot) {\n        for (let i = 0; i < f.length; i++) {\n\n            const prevx = x\n            const prevy = y\n\n            const freq = f[i].freq\n            const rad = f[i].amp\n            const phase = f[i].phase\n\n\n            x += rad * p.cos(freq * time + phase + rot)\n            y += rad * p.sin(freq * time + phase + rot)\n\n            p.stroke(0, 80)\n            p.noFill()\n            p.circle(prevx, prevy, 2 * rad)\n\n            p.stroke(0, 160)\n            p.line(prevx, prevy, x, y)\n        }\n        return p.createVector(x, y)\n    }\n\n    const dft = (x) => {\n        const X = []\n        const N = x.length\n\n        for (let k = 0; k < N; k++) {\n            let sum = p.createVector(0, 0)\n            for (let n = 0; n < N; n++) {\n                let phi = (p.TWO_PI * k * n) / N\n                const c = p.createVector(p.cos(phi), -p.sin(phi))\n                sum.add(cmult(x[n], c))\n            }\n            sum.div(N)\n\n            const freq = k\n            const amp = sum.mag()\n            const phase = p.atan2(sum.y, sum.x)\n\n            X[k] = {\n                r: sum.x,\n                i: sum.y,\n                freq,\n                amp,\n                phase\n            }\n        }\n        console.log('epicycles count :: ', X.length)\n        return X\n    }\n\n    function cmult(a, b) {\n        const r = a.x * b.x - a.y * b.y\n        const i = a.x * b.y + a.y * b.x\n        return p.createVector(r, i)\n    }\n}\n\nexport default s","const s = (p) => {\n\n    p.setup = () => {\n        p.createCanvas(200, 200)\n        p.createP('testing p tag')\n    }\n\n    p.draw = () => {\n        p.background(0);\n        p.fill(255);\n        p.rect(100, 20, 50, 50)\n    }\n}\n\nexport default s","function Home() {\n  return (\n    <div>\n      <h1>Home</h1>\n    </div>\n  )\n}\n\nexport default Home","import React from 'react'\n\nfunction Contacts() {\n  return (\n    <div>\n      <h1>Contacts</h1>\n    </div>\n  )\n}\n\nexport default Contacts","import Nav from 'react-bootstrap/Nav'\n\nfunction SketchesNav(props) {\n    const {\n        selected,\n        handleSelected\n    } = props\n    console.log('sketches nav props :: ', props)\n    return (\n        <Nav activeKey={selected} onSelect={(key) => handleSelected(key)} className=\"flex-column\">\n            <Nav.Link eventKey=\"fourier\">Fourier drawing</Nav.Link>\n            <Nav.Link eventKey=\"test-sketch\">Test</Nav.Link>\n        </Nav>\n    )\n}\n\nexport default SketchesNav","import React, { useRef, useEffect } from 'react'\nimport p5 from 'p5'\nimport '../css/SketchContainer.css'\n\nconst SketchContainer = (props) => {\n    //get ref to the rendered child element (the container)\n    const sketchRef = useRef()\n    const styleRef = useRef()\n    //get P5 sketch from 'sketch' prop\n    const sketchName = props.sketchName\n    //use effects to attach the P5 sketch\n    useEffect(() => {\n        //get the rendered HTML container\n        const el = sketchRef.current\n        //clear container\n        el.innerHTML = ''\n        //load sketch\n        const sketch = require(`../sketches/${sketchName}.js`).default\n        //create the sketch in this container\n        new p5(sketch, el)\n        //clean up - clear container (optional)\n        return (() => {\n            el.innerHTML = ''\n        })\n    })\n    //use effect to load styles from public css file\n    useEffect(() => {\n        //get the rendered HTML style element\n        const el = styleRef.current\n        //fetch and load the css\n        async function fetchCSS() {\n            try {\n                //load CSS from file in the public folder\n                //const resp = await fetch(`${window.location.origin}/css/sketches/${sketchName}.css`)\n                const base = window.location.href.split('#')[0]\n                console.log('base :: ', base)\n                const resp = await fetch(`${base}css/sketches/${sketchName}.css`)\n                const css = await resp.text()\n                console.log(css)\n                //set CSS\n                el.innerHTML = css\n            } catch (error) {\n                console.error(error)\n            }\n        }\n        fetchCSS()\n        //clean up - clear container (optional)\n        return (() => {\n            el.innerHTML = ''\n        })\n    })\n\n    return (\n        <>\n            <div ref={sketchRef} className=\"sketch-container\"></div>\n            <style ref={styleRef}></style>\n        </>\n    )\n}\n\nexport default SketchContainer","import { useState } from 'react'\nimport SketchesNav from '../components/SketchesNav'\nimport SketchContainer from '../components/SketchContainer'\n\nfunction Sketches() {\n    const [selected, handleSelected] = useState('test-sketch')\n\n    return (\n        <>\n            <SketchesNav selected={selected} handleSelected={handleSelected} />\n            <SketchContainer sketchName={selected} />\n        </>\n    )\n}\n\nexport default Sketches","function NotFound() {\n  return (\n    <div>\n      <h1>404</h1>\n    </div>\n  )\n}\n\nexport default NotFound","import Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport { IndexLinkContainer } from 'react-router-bootstrap'\n\nfunction Header() {\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Navbar.Brand>Lasko</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav>\n                    <IndexLinkContainer to=\"/\">\n                        <Nav.Link>Home</Nav.Link>\n                    </IndexLinkContainer>\n                    <IndexLinkContainer to=\"/sketches\">\n                        <Nav.Link>Sketches</Nav.Link>\n                    </IndexLinkContainer>\n                    <IndexLinkContainer to=\"/contacts\">\n                        <Nav.Link>Contacts</Nav.Link>\n                    </IndexLinkContainer>\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    )\n}\n\nexport default Header","import Home from './pages/Home'\nimport Contacts from './pages/Contacts'\nimport Sketches from './pages/Sketches'\nimport NotFound from './pages/NotFound'\n\n\n//components\nimport Header from './components/Header'\n\n\n\n\n//router components\nimport {\n    Switch,\n    Route,\n} from 'react-router-dom'\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Header />\n            <Switch>\n                <Route path=\"/contacts\">\n                    <Contacts />\n                </Route>\n                <Route path=\"/sketches\">\n                    <Sketches />\n                </Route>\n                <Route exact path=\"/\">\n                    <Home />\n                </Route>\n                <Route path=\"/\">\n                    <NotFound />\n                </Route>\n            </Switch>\n        </div >\n    )\n}\n\nexport default App","//bootstrap stylesheet\nimport 'bootstrap/dist/css/bootstrap.min.css'\n//default theme\nimport './css/hootstrap.css'\n//React\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n//router\nimport {\n  //BrowserRouter as Router,\n  HashRouter as Router,\n} from \"react-router-dom\"\n//App\nimport App from './App'\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n)"],"sourceRoot":""}